import { ipcRenderer } from "electron";
import type { Theme, Platform } from "@shared/types";

/**
 * Auto-generated IPC service interfaces
 */
export interface AutoGeneratedIpcServices {
	appService: {
		setTheme(theme: Theme): Promise<void>;
		getCurrentTheme(): Promise<Theme>;
	};
	deviceService: {
		getPlatform(): Promise<Platform>;
	};
}

/**
 * Auto-generated service implementations
 */
export const autoGeneratedServices: AutoGeneratedIpcServices = {
	appService: {
		setTheme: (theme: Theme) => ipcRenderer.invoke("appService:setTheme", theme),
		getCurrentTheme: () => ipcRenderer.invoke("appService:getCurrentTheme"),
	},
	deviceService: {
		getPlatform: () => ipcRenderer.invoke("deviceService:getPlatform"),
	},
	storage: {
		getItem: (key: string) => ipcRenderer.invoke("storage:getItem", key),
		setItem: (key: string, value: string) => ipcRenderer.invoke("storage:setItem", key, value),
		removeItem: (key: string) => ipcRenderer.invoke("storage:removeItem", key),
		clear: () => ipcRenderer.invoke("storage:clear"),
		key: (index: number) => ipcRenderer.invoke("storage:key", index),
		length: () => ipcRenderer.invoke("storage:length"),
		keys: () => ipcRenderer.invoke("storage:keys"),
	},
};

/**
 * Export type declaration extensions
 */
export interface ElectronAPIExtension {
	appService: AutoGeneratedIpcServices["appService"];
	deviceService: AutoGeneratedIpcServices["deviceService"];
}
