{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"type": "object",
	"required": ["version", "lastUpdated", "plugins"],
	"properties": {
		"version": {
			"type": "string",
			"description": "Registry schema version"
		},
		"lastUpdated": {
			"type": "string",
			"format": "date-time",
			"description": "Last update timestamp"
		},
		"plugins": {
			"type": "array",
			"items": {
				"type": "object",
				"required": [
					"metadata",
					"downloadUrl",
					"repository",
					"downloads",
					"rating",
					"ratingCount",
					"featured",
					"publishedAt",
					"updatedAt"
				],
				"properties": {
					"metadata": {
						"type": "object",
						"required": [
							"id",
							"name",
							"version",
							"type",
							"description",
							"author",
							"permissions",
							"compatibleVersion",
							"main"
						],
						"properties": {
							"id": {
								"type": "string",
								"pattern": "^[a-z0-9.-]+$",
								"description": "Unique plugin identifier (reverse domain notation)"
							},
							"name": {
								"type": "string",
								"minLength": 1,
								"maxLength": 100,
								"description": "Plugin display name"
							},
							"version": {
								"type": "string",
								"pattern": "^\\d+\\.\\d+\\.\\d+(-[a-zA-Z0-9.]+)?$",
								"description": "Plugin version (semver)"
							},
							"type": {
								"type": "string",
								"enum": ["provider", "extension", "integration"],
								"description": "Plugin type"
							},
							"description": {
								"type": "string",
								"minLength": 1,
								"maxLength": 500,
								"description": "Short plugin description"
							},
							"author": {
								"type": "string",
								"description": "Plugin author name or organization"
							},
							"homepage": {
								"type": "string",
								"format": "uri",
								"description": "Plugin homepage URL"
							},
							"repository": {
								"type": "string",
								"format": "uri",
								"description": "Plugin source code repository URL"
							},
							"permissions": {
								"type": "array",
								"items": {
									"type": "string",
									"enum": ["network", "storage", "system", "shell"]
								},
								"description": "Required permissions"
							},
							"compatibleVersion": {
								"type": "string",
								"description": "Compatible app version range (semver range)"
							},
							"main": {
								"type": "string",
								"description": "Main entry point file path"
							},
							"tags": {
								"type": "array",
								"items": {
									"type": "string"
								},
								"description": "Plugin tags for categorization"
							}
						}
					},
					"downloadUrl": {
						"type": "string",
						"format": "uri",
						"pattern": "^https://",
						"description": "HTTPS URL to download plugin zip file"
					},
					"repository": {
						"type": "string",
						"format": "uri",
						"description": "Plugin source code repository URL"
					},
					"homepage": {
						"type": "string",
						"format": "uri",
						"description": "Plugin homepage URL"
					},
					"icon": {
						"type": "string",
						"format": "uri",
						"description": "Plugin icon URL"
					},
					"screenshots": {
						"type": "array",
						"items": {
							"type": "string",
							"format": "uri"
						},
						"description": "Screenshot URLs"
					},
					"readme": {
						"type": "string",
						"format": "uri",
						"description": "README file URL"
					},
					"changelog": {
						"type": "string",
						"format": "uri",
						"description": "Changelog file URL"
					},
					"downloads": {
						"type": "integer",
						"minimum": 0,
						"description": "Download count"
					},
					"rating": {
						"type": "number",
						"minimum": 0,
						"maximum": 5,
						"description": "Average rating (0-5)"
					},
					"ratingCount": {
						"type": "integer",
						"minimum": 0,
						"description": "Number of ratings"
					},
					"featured": {
						"type": "boolean",
						"description": "Whether the plugin is featured"
					},
					"publishedAt": {
						"type": "string",
						"format": "date-time",
						"description": "Publication timestamp"
					},
					"updatedAt": {
						"type": "string",
						"format": "date-time",
						"description": "Last update timestamp"
					}
				}
			}
		}
	}
}
